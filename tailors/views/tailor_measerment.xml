<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="tailor_measerment_form" model="ir.ui.view">
        <field name="name">tailor.measerment</field>
        <field name="priority" eval="1"/>
        <field name="model">tailor.measerment</field>
        <field name="arch" type="xml">
            <form>
                <group >
                <group name="partner" string="Partner">
                    <field name="partner_id"/>
                    <field name="tailor_item_id"/>
                    <field name="attribute_template_id" domain="[('item_id','=',tailor_item_id)]"/>
                    <field name="measerment"/>
                    <field name="special_note"/>
                </group>
                </group>
                <group>
                <group>
                    <field name="attribute_value_ids"   nolabel="1" >
                        <tree editable="bottom">
                            <field name="measerment_id" invisible="1"/>
                            <field name="tailor_item_id" invisible="1"/>
                            <field name="attribute_id" domain="[('item_ids.id','=', tailor_item_id)]"/>
                            <field name="value"/>
                        </tree>
                    </field>
                </group>
                </group>
            </form>
        </field>
    </record>    <record id="tailor_measerment_tree" model="ir.ui.view">
        <field name="name">tailor.measerment.tree</field>
        <field name="priority" eval="1"/>
        <field name="model">tailor.measerment</field>
        <field name="arch" type="xml">
            <tree>
                <field name="partner_id"/>
                <field name="tailor_item_id"/>
                <field name="attribute_template_id" domain="[('item_id','=',tailor_item_id)]"/>
                <field name="measerment"/>
                <field name="special_note"/>
                <field name="attribute_value_ids" widget="many2many_tags"/>
            </tree>
        </field>
    </record>

    <record id="tailor_item_form" model="ir.ui.view">
        <field name="name">tailor.item</field>
        <field name="priority" eval="1"/>
        <field name="model">tailor.item</field>
        <field name="arch" type="xml">
            <form>
                <group name="item" string="Items">
                    <field name="name"/>
                    <field name="product_tmpl_id"/>
                    <field name="attribute_ids" widget="many2many_tags"/>
                </group>
                <group>
                    <field name="attribute_template_id"/>
                </group>
            </form>
        </field>
    </record>
    <record id="tailor_item_tree" model="ir.ui.view">
        <field name="name">tailor.item.tree</field>
        <field name="priority" eval="1"/>
        <field name="model">tailor.item</field>
        <field name="arch" type="xml">
            <tree editable="bottom">
                <field name="name"/>
                <field name="product_tmpl_id"/>
                <field name="attribute_ids" widget="many2many_tags"/>
                <field name="attribute_template_id" widget="many2many_tags"/>
            </tree>
        </field>
    </record>

    <record id="tailor_item_attribute_template_form" model="ir.ui.view">
        <field name="name">tailor.item.attribute.template.form</field>
        <field name="priority" eval="1"/>
        <field name="model">tailor.item.attribute.template</field>
        <field name="arch" type="xml">
            <form>
                <group name="item" string="Items">
                    <field name="name"/>
                    <field name="item_id"/>
<!--todo here to implement Doamin to show items attributes only-->
                    <field name="value_line_ids">
                        <tree editable="bottom">
                            <field name="name" invisible="1"/>
                            <field name="attribute_id"/>
                            <field name="value"/>
                        </tree>
                    </field>
                </group>
            </form>
        </field>
    </record>
    <record id="tailor_item_attribute_template_tree" model="ir.ui.view">
        <field name="name">tailor.item.attribute.template.tree</field>
        <field name="priority" eval="1"/>
        <field name="model">tailor.item.attribute.template</field>
        <field name="arch" type="xml">
            <tree>
                    <field name="name"/>
                    <field name="item_id"/>
                    <field name="value_line_ids" widget="mny2many_tags"/>
            </tree>
        </field>
    </record>
    <record id="tailor_measerment_attribute_value_form" model="ir.ui.view">
        <field name="name">tailor.measerment.attrbute.value.form</field>
        <field name="priority" eval="1"/>
        <field name="model">tailor.measerment.attribute.value</field>
        <field name="arch" type="xml">
            <form>
                <group name="Attribute" string="Items">
                    <field name="measerment_id"/>
                    <field name="attribute_id"/>
                    <field name="value" />
                </group>
            </form>
        </field>
    </record>

    <record id="tailor_measerment_attribute_value_tree" model="ir.ui.view">
        <field name="name">tailor.measerment.attrbute.value.tree</field>
        <field name="priority" eval="1"/>
        <field name="model">tailor.measerment.attribute.value</field>
        <field name="arch" type="xml">
            <tree>
                <field name="measerment_id"/>
                <field name="attribute_id"/>
                <field name="value" />
            </tree>
        </field>
    </record>

    <record id="action_tailor_measerment" model="ir.actions.act_window">
        <field name="name">Tailor Measerment</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">tailor.measerment</field>
<!--        <field name="view_type">form</field>-->
        <field name="view_mode">tree,form</field>
        <field name="target">current</field>
    </record>
    <record id="action_tailor_item" model="ir.actions.act_window">
        <field name="name">Tailor Item</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">tailor.item</field>
<!--        <field name="view_type">form</field>-->
        <field name="view_mode">tree,form</field>
        <field name="target">current</field>
    </record>
    <record id="action_tailor_measerment_attribute_value" model="ir.actions.act_window">
        <field name="name">Tailor Measerment Attribute Value</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">tailor.measerment.attribute.value</field>
<!--        <field name="view_type">form</field>-->
        <field name="view_mode">tree,form</field>
        <field name="target">current</field>
    </record>
    <record id="action_tailor_item_attribute_template" model="ir.actions.act_window">
        <field name="name">Tailor Measerment Attribute Template</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">tailor.item.attribute.template</field>
<!--        <field name="view_type">form</field>-->
        <field name="view_mode">tree,form</field>
        <field name="target">current</field>
    </record>

    <menuitem id="tailor_menu_root" web_icon="tailors,static/description/icon.png" action="mail.action_discuss" name="Tailor" groups="base.group_user,base.group_partner_manager" />
    <menuitem id="tailor_menu_measerment" parent="tailor_menu_root" action="action_tailor_measerment" name="Measerment" groups="base.group_user,base.group_partner_manager" />
    <menuitem id="tailor_menu_measerment_attribute_value" parent="tailor_menu_root"
              action="action_tailor_measerment_attribute_value" name="Attribute Value"
              groups="base.group_user,base.group_partner_manager" />
    <menuitem id="tailor_menu_item_attribute_template" parent="tailor_menu_root"
              action="action_tailor_item_attribute_template" name="Attribute template"
              groups="base.group_user,base.group_partner_manager" />
    <menuitem id="tailor_menu_item" parent="tailor_menu_root"
              action="action_tailor_item" name="Tailor Item"
              groups="base.group_user,base.group_partner_manager" />

</odoo>
